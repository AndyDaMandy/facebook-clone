<nav class="navbar navbar-expand-lg navbar-dark bg-dark text-light">
<div class="container-fluid">
  <h1 class="navbar-brand" >The Andy Hon</h1>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
      <li class="nav-item active">
       <%= link_to "Home", root_path, class: "nav-link" %>
      </li>
      <li class="nav-item">
        <%if user_signed_in?%>
        <%= link_to "My Posts", self_posts_path, class: "nav-link" %>
      </li>
      <li class="nav-item">
        <%= link_to "Find Friends", users_path, class: "nav-link" %>
      </li>
      <% end %>
    </ul>
    <ul class="navbar-nav mr-auto">
<% if user_signed_in? %>
  <% if current_user.avatar.attached? %>
  <div class="navbar-brand">
      <%= image_tag(current_user.avatar.variant(resize_to_limit: [50, 50], format: :jpg, saver: { quality: 80 }), class: "rounded-circle, img-fluid, img-thumbnail, rounded", alt: "User Avatar") %>
    </div>
  <% end %>
  <li class="navbar-text">
    Logged in as <strong><%= current_user.email %></strong>
  </li>
    <li class="nav-item">
      <%= link_to 'View Profile', user_path(current_user), class: 'nav-link' %>
    </li>
    <li class="nav-item">
      <%= link_to 'Edit profile', edit_user_path(current_user), class: 'nav-link' %>
    </li>
    <li class="nav-item">
      <%= button_to "Logout", destroy_user_session_path, method: :delete, class: 'btn btn-outline-secondary'  %>
    </li>
<% else %>
  <li class="nav-item">
    <%= link_to "Sign up", new_user_registration_path, class: 'nav-link'  %>
  </li>
  <li class="nav-item">
    <%= link_to "Login", new_user_session_path, class: 'nav-link'  %>
  </li>
<% end %>
</ul>
<!-- Navbar -->
</div>
</div>
<!-- Container -->
</nav>